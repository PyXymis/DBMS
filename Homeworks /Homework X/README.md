# Homework X
* **[Homeworks](/README.md)** - *Все домашние задания*
# Assigment
## Домашнее задание
### Типы данных в СУБД MySQL

**Цель:**<br>
* *Вдумчиво подбираем нужные типы данных*
* *Изучаем тип JSON*
* *Определяемся с типом ID*

**Описание/Пошаговая инструкция выполнения домашнего задания:**
* *Проанализировать типы данных в своем проекте, изменить при необходимости. В README указать что на что поменялось и почему.*
* *добавить тип JSON в структуру. Проанализировать какие данные могли бы там хранится. привести примеры SQL для добавления записей и выборки.*

***Критерии оценки:***
* Выполнение ДЗ: 10 баллов
* плюс 2 балла за красивое решение
* минус 2 балла за рабочее решение, и недостатки указанные преподавателем не устранены

[//]: # (# Assessment)
[//]: # (![image]&#40;https://user-images.githubusercontent.com/37443340/227890091-022abddf-40b5-4b30-9026-981c53cc046d.png&#41;)
# Solution
- Проанализировав структура файла **init.sql** из прошлого урока ([Homework IX](/Homeworks%20/Homework%20IX/README.md))
направшивается несколько изменений в его структуре, учитывая особенности MySQL:
  - В моделе **_profile_** мы изменим следующие типы:
    - Поле **phone** заменим с VARCHAR(12) на CHAR(12). Тем самым ускорим поиск по этому полю.
    - Поле **birthday** заменим с **_TIMESTAMP_** на **_DATE_**. Так как нам не нужно хранить время, а только дату.
    - Все **_BOOLEAN_** поля мы можем заменить на элегантное **_CHAR(0) DEFAULT NULL_**. Но на мой взгляд это режет глаз.
    Поэтому мы заменим на TINYINT(1) - Best Practices of MySQL
  - В моделе **_contract_** мы произведем следующую замену:
    - Заменили поле **_id INT AUTO_INCREMENT PRIMARY KEY_** на **_uuid CHAR(36) NOT NULL DEFAULT (UUID())_**
- В таблице **_address_** мы уже используем поле **JSON**. Задумака хранения **JSON** заключается в сохранение ответа сервиса геолокации (яндекс карты) 
И позволяет использовать нам **_SELECT_** c **_JSON_EXTRACT_**. Пример:
```sql
SELECT id, profile_id, JSON_EXTRACT(geolocation, '$.latitude') as latitude FROM address;
```
